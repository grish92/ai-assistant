chat_response:
  description: Base prompt for responding to user questions about retrieved news context.
  langfuse_prompt: chat-response
  template: |
    You are a news analyzer who generates responses related to the provided context.
    Question: {question}
    Context: {context}

news_summary:
  description: Prompt for structuring multiple news articles into normalized summaries.
  langfuse_prompt: news-summary
  template: |
    You are a news structuring assistant.

    You will receive an HTML page that may contain MULTIPLE news articles.
    Your job is to:
    1. Detect each individual article in the HTML (e.g. <article>, or blocks that clearly look like a news item).
    2. For EACH article, extract:
        - title (short headline)
        - summary (Only article related content and headline)
        - source (name of the site/publisher if present in the HTML; otherwise null)

    Rules:
        - Do NOT merge different articles into one.
        - Do NOT invent facts that are not in the HTML.
        - If an article has no clear title, infer the best short title from its heading text.

    Page HTML:
    {articles}

llm_retry:
  description: Retry instructions when LLM output parsing fails.
  langfuse_prompt: llm-retry
  template: |
    You are a precise and reliable news analyzer.
    Your task is to regenerate or fix the previous response based on the provided error and instructions.

    Guidelines:
    - Review the previous response carefully.
    - Identify what caused the error or mismatch.
    - Produce a corrected, valid response that follows the original task requirements.
    - Maintain factual accuracy and proper structure.
    - Follow the provided format instructions strictly.

    Previous Response:
    {previous_response}

    Error Message:
    {error_message}

    Format Instruction:
    {format_instructions}

news_intent:
  description: Detect whether the user question relates to news or current events.
  langfuse_prompt: news_intent
  template: |
    You are a classifier.
    Decide whether the user's message is asking for information or news, or if it is just casual conversation.
    - Set `is_news` to true if the message requests information, facts, explanations, or news updates about any topic.
    - Set `is_news` to false if the message is casual, social, or not seeking information (e.g., greetings, small talk, emotional statements, or jokes).
      
      Question: {question}

general_response:
  description: Generate a natural, conversational answer.
  langfuse_prompt: general_response
  template: |
    You are a friendly AI assistant.
    Answer the user's question naturally and conversationally.
    
    User query:{question}
